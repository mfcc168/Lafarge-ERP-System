{% extends 'invoice/base.html' %}
{% load bootstrap5 %}
{% load export_url from django_tables2 %}
{% load render_table from django_tables2 %}

{% block content %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<div class="container mt-4">
    <!-- Salesman Name -->
    <div class="text-center mb-4">
        <h1 class="fw-bold">{{ salesman.name }}'s Sales Records</h1>
    </div>

    <!-- Filter Section -->
    <div class="card shadow-sm border-0 p-4">
        <h4 class="mb-3"><i class="bi bi-funnel"></i> Filter Invoices</h4>
        <form action="" method="get">
            <div class="row g-3">
                {% bootstrap_form filter.form layout='inline' %}
            </div>
            <div class="mt-3">
                {% bootstrap_button 'Filter' %}
            </div>
        </form>
    </div>

    <!-- Export Button -->
    <div class="d-flex justify-content-between align-items-center mt-4">
        <h3><i class="bi bi-receipt"></i> Invoices</h3>
        <a href="{% export_url 'xlsx' %}" class="btn btn-success">
            <i class="bi bi-file-earmark-excel"></i> Export to XLSX
        </a>
    </div>

    <!-- Invoice Table -->
    <div class="card shadow-sm border-0 p-4 mt-3">
        {% render_table table %}
    </div>



    <!-- Back Button -->
    <div class="text-center mt-4">
        <a href="{% url 'salesman_list' %}" class="btn btn-primary">
            <i class="bi bi-arrow-left-circle"></i> Back to Salesman List
        </a>
    </div>
</div>






{% endblock %}
